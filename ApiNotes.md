# Документация к API

В этом файле описаны пути и параметры для вызова API

## Методы для рейсов

В данной категории методов у нас будет всё, что связано с маршрутами, их обновление, изменение времени, изменение времени начала. 

## Список URL HTTP-методов

### POST /routes/new

Регистрирует новый рейс в расписании.

Параметры запроса передаются в URL:

* routeId — номер нового рейса
* startTime — время начала рейса, указывается в минутах.\
* busNumbers - номера прикрепляемых автобусов, через запятую. (ОПЦИОНАЛЬНО)

Результаты:

* HTTP 200 — удалось добавить новый рейс;
* HTTP 400 — данный номер рейса уже существует;

### POST /routes/update

* routeId — номер нового рейса
* startTime — время начала рейса, указывается в минутах.\

Результаты:

* HTTP 200 — удалось обновить параметры существующего рейса;
* HTTP 400 — данного номера рейса не существует;

### DELETE /routes/deleteBus

Параметры запроса передаются в URL

* routeId — номер рейса, из которого надо удалить автобус
* busId - номер автобуса, который подлежит удалению из рейса

Результаты:

* HTTP 200 — удалось обновить параметры существующего рейса;
* HTTP 400 — данного номера рейса не существует или не существует такого автобуса в рейсе

### UPDATE /routes/addBus

Параметры запроса передаются в URL

* routeId — номер рейса, из которого надо удалить автобус
* busId - номер автобуса, который подлежит добавлению в рейс

Результаты:

* HTTP 200 — удалось обновить параметры существующего рейса;
* HTTP 400 — данного номера рейса не существует или не существует такого автобуса в списке свободных

### GET /day

Возвращает расписание рейсов в виде JSON-массива

Результаты:

* HTTP 200 — расписание имеется, в теле ответа передаются данные;
* HTTP 400 — нет начального расписания;

Пример JSON

```
{
  "id": Int, //дублирует stopTime, нужен для сортировки
  "routeId": Id, //целочисленный уникальный Id рейса
  "buses": [Int,] //массив идентификаторов привязанных автобусов
  "startTime": Int, //целое число, значение в минутах (пример - 120 это 2:00)
  "stopTime": Int, //LOOK UP
}
```
### GET /fromMinute
Параметр запроса передаётся в URL, он только один - текущая минута

Результат такой же, как и у day, просто обрезанный с указанной минуты.

TODO: Сделать сортировку по окончанию времени маршрута
